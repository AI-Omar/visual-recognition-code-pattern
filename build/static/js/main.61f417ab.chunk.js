(this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]=this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]||[]).push([[0],{14:function(e){e.exports=JSON.parse('{"b":"Watson Visual Recognition","a":"The Visual Recognition service uses deep learning algorithms to analyze images for scenes, objects, text, and other subjects."}')},16:function(e,t,a){},23:function(e){e.exports=JSON.parse('[{"url":"/images/classify/small/tweed_jacket.jpg","alt":"tweed jacket"},{"url":"/images/classify/small/computer_chip.jpg","alt":"computer-chip"},{"url":"/images/classify/small/soy_sauce.jpg","alt":"kodak-film"}]')},24:function(e){e.exports=JSON.parse('[{"classifier_id":"default","name":"default","classes":[{"class":"fabric","score":0.959},{"class":"gray color","score":0.946},{"class":"Harris Tweed (jacket)","score":0.87,"type_hierarchy":"/fabric/Harris Tweed (jacket)"},{"class":"clothing","score":0.8},{"class":"tweed","score":0.791,"type_hierarchy":"/fabric/tweed"},{"class":"garment","score":0.518},{"class":"overgarment","score":0.517},{"class":"coat","score":0.509},{"class":"Norfolk jacket","score":0.5,"type_hierarchy":"/garment/overgarment/coat/Norfolk jacket"}],"display":"General Model","description":"Quickly understand objects, actions, scenes, and colors within an image."},{"classifier_id":"food","name":"food","classes":[{"class":"non-food","score":0.998}],"display":"Food Model","description":"Identify meals and food items with enhanced accuracy."},{"classifier_id":"explicit","name":"explicit","classes":[{"class":"not explicit","score":0.991}],"display":"Explicit Model","description":"Determine if an image contains nudity or other inappropriate content."}]')},33:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(18),r=a.n(i),o=(a(16),a(48)),s=a(42),l=a(25),m=a.n(l),u=a(26),d=a.n(u),p=a(29),f=a.n(p),g=a(28),h=a.n(g),E=a(27),v=a.n(E),b=function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])},k=a(44),_=function(e){var t=e.description,a=e.links,n=e.title;return c.a.createElement(k.b,{className:"header"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h2",{className:"header-title"},n),c.a.createElement("p",null,t)),c.a.createElement("div",{className:"link-container"},c.a.createElement("div",{className:"link-wrapper"},a.map((function(e){return e})))))};_.defaultProps={description:"",links:[],title:""};var y=_,N=a(19),w=a.n(N),j=a(4),C=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return c.a.createElement("div",{key:t,className:"image-picker--section__tile"},c.a.createElement(k.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},c.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},S=function(e){var t=e.loadingMessage;return c.a.createElement("span",{className:"loader"},c.a.createElement("div",{className:"loader-container"},c.a.createElement("div",{className:"loader-dots"}),t?c.a.createElement("div",{className:"loader-message"},c.a.createElement("p",{className:"ibm-type-a"},t)):null))};S.defaultProps={loadingMessage:null};var O=S,B=a(30),W=a(21),I=a.n(W),x=function(e){var t=e.onUpload;return c.a.createElement("div",{className:"image-picker--section__tile"},c.a.createElement(k.a,{id:"123",handleClick:function(){}},c.a.createElement(B.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return c.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),c.a.createElement("input",a()),c.a.createElement(I.a,null),c.a.createElement("p",{className:"upload-text"},"Select or drag an image"))}))))},D=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,i=e.onSelectTile,r=e.onUpload;return c.a.createElement("div",{className:"main-image-picker__container"},c.a.createElement("div",{className:"main-image-picker"},c.a.createElement("div",null,c.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?c.a.createElement(O,null):null)),c.a.createElement("div",{className:"image-selection__container"},c.a.createElement("div",{className:"image-picker__tiles"},c.a.createElement(C,{images:n,onClick:function(e){i(e)}}),c.a.createElement(x,{onUpload:function(e){r(e)}}))))};D.defaultProps={viewerType:"image"};var P=D,A=function(e){var t=e.images,a=e.onSubmitImage,i=e.handleUnsupportedFormats,r=e.isClassifying,o="";t[0]&&t[0].url&&(o=t[0].url);var s=Object(n.useState)(o),l=Object(j.a)(s,2),m=l[0],u=l[1];return c.a.createElement(k.b,{className:"input-container"},c.a.createElement("h4",{className:"container-title"},"Input"),c.a.createElement(P,{showLoader:r,viewerImage:m,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),u(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;u(e),a({image_data:e})},n.readAsDataURL(t)}else i()}(e)}}),c.a.createElement("h4",{className:"container-footer"},"Select An Image to Analyze"))},F=a(50),T=a(45),R=a(46),M=a(49);function U(e){var t,a=e.progress;return c.a.createElement("div",{className:"bar-container"},c.a.createElement("div",{className:"bar-full"},c.a.createElement("div",{className:"bar",style:{width:"".concat((t=a,Math.abs(Math.round(100*t))),"%")}})),c.a.createElement("div",{className:"progress"},function(e){return(Math.round(100*e)/100).toFixed(2)}(a)))}U.defaultProps={progress:0};var J=U,H=a(22),G=a.n(H),L=function(e){var t=e.classifyResults,a=Object(n.useState)("table"),i=Object(j.a)(a,2),r=i[0],o=i[1];return c.a.createElement(k.b,{className:"output-container"},c.a.createElement("h3",{className:"output-container__title"},"Output"),c.a.createElement("div",{className:"output-container__control-panel"},c.a.createElement(F.a,{className:"output-container__content-switch",onChange:function(e){o(e.name)},selectedIndex:"table"===r?0:1},c.a.createElement(T.a,{name:"table",text:"Table"}),c.a.createElement(T.a,{name:"json",text:"JSON"}))),c.a.createElement(R.a,{legendText:"Result"},"table"===r?c.a.createElement(M.a,null,c.a.createElement("div",{className:"output-container__accordian-header"},c.a.createElement("p",null,"Top Classes"),c.a.createElement("p",null,"Score")),t.map((function(e){return c.a.createElement("div",{key:e.class,className:"output-container__accordian-item"},c.a.createElement("p",null,e.class),c.a.createElement(J,{progress:e.score}))}))):c.a.createElement(G.a,{name:!1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,collapsed:2,collapseStringsAfterLength:20,theme:"monokai",style:{lineHeight:"1.3em"},src:t})))};L.defaultProps={classifyResults:null};var q=L,z=a(47),Q=function(e){var t=e.caption,a=e.children,i=e.className,r=e.hideAfterFirstDisplay,o=e.hideCloseButton,s=e.iconDescription,l=e.kind,m=e.lowContrast,u=e.onCloseButtonClick,d=e.role,p=e.subtitle,f=e.timeout,g=e.title,h=Object(n.useState)(),E=Object(j.a)(h,2),v=E[0],b=E[1],k=Object(n.useState)(!1),_=Object(j.a)(k,2),y=_[0],N=_[1];return Object(n.useEffect)((function(){b(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(v));e&&(e.className+="enter")}),[v]),Object(n.useEffect)((function(){r&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&N(!0)}),[r]),y?null:c.a.createElement(z.a,{caption:t,className:"custom-toast-".concat(v," ").concat(i),hideCloseButton:o,iconDescription:s,kind:l,lowContrast:m,onCloseButtonClick:function(){r&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),u()},role:d,subtitle:p,timeout:f,title:g},a)};Q.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var V=Q,K=a(23),X=a(24),Y=function(){var e,t=Object(n.useState)(!1),a=Object(j.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(X),s=Object(j.a)(o,2),l=s[0],m=s[1],u=Object(n.useState)(null),d=Object(j.a)(u,2),p=d[0],f=d[1];return c.a.createElement("div",{className:"service-container"},c.a.createElement(V,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),p&&c.a.createElement(V,{kind:"error",title:p.title,subtitle:p.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return f(null)}}),c.a.createElement(A,{onSubmitImage:function(e){!function(e){w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:r(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?f(e.error):m(e.result.images[0].classifiers)})).catch((function(e){f({title:e.message,description:e.message})})).finally((function(){return r(!1)}));case 2:case"end":return t.stop()}}))}(e)},isClassifying:i,images:K,handleUnsupportedFormats:function(){f({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})}}),c.a.createElement(q,{classifyResults:(e=l,e[0].classes.sort((function(e,t){return t.score-e.score})).slice(0,10))}))},$=a(14),Z=[c.a.createElement(o.a,{className:"link",key:"api-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/apidocs/visual-recognition"},c.a.createElement("p",{className:"link-text"},"API reference"),c.a.createElement(m.a,{className:"link-icon"})),c.a.createElement(o.a,{className:"link",key:"docs-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/docs/services/visual-recognition?topic=visual-recognition-getting-started-tutorial"},c.a.createElement("p",{className:"link-text"},"Documentation"),c.a.createElement(d.a,{className:"link-icon"})),c.a.createElement(o.a,{className:"link",key:"github-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/watson-developer-cloud/visual-recognition-code-pattern"},c.a.createElement("p",{className:"link-text"},"GitHub"),c.a.createElement(v.a,{className:"link-icon"})),c.a.createElement(o.a,{className:"link getting-started",key:"ibm-cloud-link",target:"_blank",rel:"noopener noreferrer",href:"https://cloud.ibm.com/registration?target=%2Fcatalog%2Fservices%2Fvisual-recognition%3FhideTours%3Dtrue%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmc%3D-_-Watson%2BCore_Watson%2BCore%2B-%2BPlatform-_-WW_WW-_-wdc-ref%26cm_mmca1%3D000000OF%26cm_mmca2%3D10000409&_ga=2.158846578.918027017.1572271296-1405764752.1539884377&_gac=1.250083700.1571850605.Cj0KCQjw3JXtBRC8ARIsAEBHg4m4g1PSkKQRoI6YUe4A-6ysul0ziiWU0DVbqlbWAQpq3721u-bxkd0aAkV3EALw_wcB&cm_mc_uid=83381689395615475202389&cm_mc_sid_50200000=82214471572470185115&cm_mc_sid_52640000=21949701572470185117&cm_mmc=Earned-_-Watson%20Core%20-%20Platform-_-WW_WW-_-intercom&cm_mmca1=000000OF&cm_mmca2=10000409"},c.a.createElement(s.a,{className:"link-button",kind:"tertiary",renderIcon:h.a},"Start for free on IBM Cloud"),c.a.createElement(f.a,{className:"link-icon"}))],ee=function(){return b("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),c.a.createElement("div",{className:"app-container"},c.a.createElement(y,{description:$.a,links:Z,title:$.b}),c.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.61f417ab.chunk.js.map